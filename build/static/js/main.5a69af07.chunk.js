(this.webpackJsonphardware_store_stock=this.webpackJsonphardware_store_stock||[]).push([[0],{111:function(e,t,n){e.exports=n(159)},116:function(e,t,n){},117:function(e,t,n){},120:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),l=n.n(r),o=(n(116),n(15)),i=n(25),s=n(7),u=n(163),m=c.a.createContext({}),d=(n(117),n(9)),p=n(59),E=(n(120),function(e,t){e.history.push("/app/".concat(t)),e.onChange&&e.onChange()}),f=Object(s.g)((function(e){return c.a.createElement("div",{className:"menu-options-container"},c.a.createElement(u.a,{className:"bp3-minimal",icon:"cog",text:"Productos",onClick:function(){return E(e,"products")},intent:"primary"}),c.a.createElement(u.a,{className:"bp3-minimal",icon:"list-detail-view",text:"Ventas",onClick:function(){return E(e,"sales")},intent:"primary"}))})),g=(n(146),function(e){return c.a.createElement(u.c,{isOpen:e.isOpen},c.a.createElement("div",{class:"bp3-dialog-header"},c.a.createElement("span",{class:"bp3-icon-large bp3-icon-inbox"}),c.a.createElement("h4",{class:"bp3-heading"},e.title),c.a.createElement("button",{"aria-label":"Close",class:"bp3-dialog-close-button bp3-button bp3-minimal bp3-icon-cross",onClick:function(){return e.onClose()}})),c.a.createElement("div",{class:"bp3-dialog-body"},e.content),c.a.createElement("div",{class:"bp3-dialog-footer"},c.a.createElement("div",{class:"bp3-dialog-footer-actions"},e.footer)))}),b=(n(147),function(e){var t=e.columns,n=e.data,a=e.index;return c.a.createElement("tr",{className:"table-row ".concat(a%2!==0&&"dark")},t.map((function(e){return c.a.createElement("td",{className:"table-column-cell ".concat(e.align||""),style:{width:"".concat(100/t.length,"%")}},function e(t){return c.a.isValidElement(t)?t:"string"===typeof t?t:"function"===typeof t?e(t(n)):Array.isArray(t)?c.a.createElement("div",{className:"table-column-content"},t):void 0}(e.content))})))}),h=function(e){var t=e.columns,n=e.data;return c.a.createElement("table",{class:"bp3-html-table"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"table-row header"},function(e){return e.map((function(t){return c.a.createElement("th",{style:{width:"".concat(100/e.length,"%")},className:"table-column-cell ".concat(t.align)},t.label)}))}(t))),c.a.createElement("tbody",null,n.map((function(e,n){return c.a.createElement(b,{index:n,key:e.id,columns:t,data:e})}))))},v=n(28),N=n.n(v),O=N.a.initializeApp({apiKey:"AIzaSyAFL7aGFHP7Chz4d8W00-AWKvYXN937psg",authDomain:"hardwarestorestock.firebaseapp.com",databaseURL:"https://hardwarestorestock.firebaseio.com",projectId:"hardwarestorestock",storageBucket:"hardwarestorestock.appspot.com",messagingSenderId:"463081255449",appId:"1:463081255449:web:87b66d53071bdea13bf088",measurementId:"G-SF0J6BJ8VY"}),j=N.a.firestore(O),S=function(e){var t=e.product;return c.a.createElement("div",{className:"product-details-container"},c.a.createElement("div",{className:"product-details-row"},c.a.createElement(u.h,{className:"item"},c.a.createElement("strong",null,"Nombre: "),t.name),c.a.createElement(u.h,{className:"item"},c.a.createElement("strong",null,"Referencia: "),t.reference),c.a.createElement(u.h,{className:"item"},c.a.createElement("strong",null,"Descripci\xf3n: "),t.description),c.a.createElement(u.h,{className:"item"},c.a.createElement("strong",null,"Proveedores: "),t.providers.map((function(e){return"".concat(e,", ")}))),c.a.createElement(u.h,{className:"item"},c.a.createElement("strong",null,"Precio: "),"$",t.price)))},y=(n(58),Object(s.g)((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],l=n[1],i=Object(a.useState)(null),s=Object(o.a)(i,2),m=s[0],d=s[1],p=Object(a.useState)(!0),E=Object(o.a)(p,2),f=E[0],b=E[1],v=Object(a.useState)(null),N=Object(o.a)(v,2),O=N[0],y=N[1];Object(a.useEffect)((function(){O||function(e,t){j.collection("products").get().then((function(n){if(n.empty)console.log("No matching documents.");else{var a=[];n.forEach((function(e){var t=Object.assign({},e.data(),{id:e.id});a.push(t)})),e(a),t(!1)}}))}(y,b)}));return f?c.a.createElement(u.g,null):c.a.createElement("div",{className:"product-list-container"},c.a.createElement(u.d,null,c.a.createElement(u.h,null,"Listado de Productos")),c.a.createElement(u.a,{className:"new-product-button",text:"Nuevo producto",intent:"primary",plus:!0,icon:"plus",onClick:function(){return function(e){e.history.push("".concat(e.history.location.pathname,"/new"))}(e)}}),c.a.createElement(h,{columns:function(e,t){return[{label:"Referencia",content:function(e){return"".concat(e.reference)}},{label:"Nombre",content:function(e){return e.name||"-"}},{label:"Descripci\xf3n",content:function(e){return e.description||"-"}},{label:"Precio",content:function(e){return e.price?"$".concat(e.price):"-"},align:"center"},{label:"",content:function(n){return c.a.createElement(u.a,{className:"bp3-minimal",icon:"more",onClick:function(){return function(e,t,n){e(!0),t(n)}(e,t,n)},intent:"primary"})},align:"right"}]}(l,d),data:O}),c.a.createElement(g,{key:r,isOpen:r,onClose:function(){return function(e,t){e(!1),t(null)}(l,d)},title:"Detalle de producto",content:c.a.createElement(S,{product:m})}))}))),I=n(30),C=n(31),k=n(34),w=n(33),U=n(32),x=n(35),L=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(k.a)(this,Object(w.a)(t).call(this,e))).state={name:"",reference:"",price:"",description:"",provider:[],isLoading:!1},n.handleSave=n.handleSave.bind(Object(U.a)(n)),n}return Object(x.a)(t,e),Object(C.a)(t,[{key:"handleSave",value:function(){var e=this;this.setState({isLoading:!0},(function(){e.state.name,e.state.price,e.state.reference,e.state.description}))}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return c.a.createElement("div",{className:"product-create-container"},c.a.createElement(u.d,null,c.a.createElement(u.h,null,"Nuevo Producto")),c.a.createElement("div",{className:"left-container"},c.a.createElement("div",{className:"field"},c.a.createElement(u.h,{className:"label"},c.a.createElement("strong",null,"Nombre:")),c.a.createElement(u.e,{className:"form-control",placeholder:"Ejemplo: Clavo",disabled:this.state.isLoading,value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),c.a.createElement("div",{className:"field"},c.a.createElement(u.h,{className:"label"},c.a.createElement("strong",null,"Precio:")),c.a.createElement(u.e,{className:"form-control",placeholder:"$",disabled:this.state.isLoading,value:this.state.price,leftIcon:"dollar",onChange:function(t){return e.setState({price:t.target.value})}}))),c.a.createElement("div",{className:"right-container"},c.a.createElement("div",{className:"field"},c.a.createElement(u.h,{className:"label"},c.a.createElement("strong",null,"Referencia:")),c.a.createElement(u.e,{className:"form-control",placeholder:"Ejemplo: 1253",disabled:this.state.isLoading,value:this.state.reference,onChange:function(t){return e.setState({reference:t.target.value})}})),c.a.createElement("div",{className:"field"},c.a.createElement(u.h,{className:"label"},c.a.createElement("strong",null,"Descripci\xf3n:")),c.a.createElement(u.e,{className:"form-control",disabled:this.state.isLoading,placeholder:"Ejemplo: Clavo de 3 cm",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}))),c.a.createElement(u.a,{className:"new-product-button",text:t?"Guardando..":"Guardar",disabled:t,intent:"primary",loading:t,onClick:this.handleSave}))}}]),t}(a.Component),P=Object(s.g)(L),A=(n(41),Object(s.g)((function(e){var t=e.match.path,n=e.location;return c.a.createElement(s.d,{location:n},c.a.createElement(s.b,{path:"".concat(t,"/products/list"),component:y}),c.a.createElement(s.b,{path:"".concat(t,"/products/new"),component:P}),c.a.createElement(s.b,{path:"".concat(t,"/products"),component:y}))}))),B=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(k.a)(this,Object(w.a)(t).call(this,e))).state={},n}return Object(x.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"product-create-container"},c.a.createElement(u.d,null,c.a.createElement(u.h,null,"Hola ".concat(this.props.loggedInUser.displayName,"!"))))}}]),t}(a.Component),D=Object(s.g)(B),J=Object(s.g)((function(e){var t=e.match.path,n=e.location;return c.a.createElement(s.d,{location:n},c.a.createElement(s.b,{path:"".concat(t,"/home"),component:function(){return c.a.createElement(D,{loggedInUser:e.loggedInUser})}}))})),G=Object(s.g)((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],l=n[1];return e.loggedInUser&&Object.keys(e.loggedInUser).length?c.a.createElement(p.a,{sidebar:c.a.createElement(f,{onChange:function(){return l(!r)}}),open:r,onSetOpen:function(){return l(!r)},styles:{sidebar:{background:"white"}}},c.a.createElement(u.f,null,c.a.createElement(u.f.Group,null,c.a.createElement("div",{className:"menu-button-container"},c.a.createElement(u.a,{className:"bp3-minimal",icon:r?"menu-closed":"menu-open",onClick:function(){return l(!r)}})),c.a.createElement(u.f.Divider,null),c.a.createElement("div",{className:"navbar-actions-container"},c.a.createElement("div",{className:"bp3-input-group .modifier search-input"},c.a.createElement("span",{className:"bp3-icon bp3-icon-search"}),c.a.createElement("input",{className:"bp3-input",type:"search",placeholder:"Buscar",dir:"auto"})))),c.a.createElement("div",{className:"logout-container"},c.a.createElement(u.i,{content:"Cerrar sesi\xf3n",position:d.a.BOTTOM_LEFT},c.a.createElement(u.a,{className:"bp3-minimal",icon:"log-out",onClick:function(){return e.onSignOut()}})))),c.a.createElement("div",{className:"layout-container"},c.a.createElement(J,{loggedInUser:e.loggedInUser}),c.a.createElement(A,null))):c.a.createElement(s.d,null,c.a.createElement(s.a,{to:"/session/signin",component:null}))})),W=(n(158),function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],l=n[1],i=Object(a.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],p=Object(a.useState)(!1),E=Object(o.a)(p,2),f=E[0],g=E[1];return f?c.a.createElement(u.g,null):c.a.createElement(u.b,{className:"sign-in-card"},c.a.createElement(u.d,null,"Bienvenido!"),c.a.createElement(u.h,null,"Ingresa tus datos para poder inisiar sesi\xf3n"),c.a.createElement(u.e,{className:"user-input",placeholder:"Usuario",onChange:function(e){return l(e.target.value)}}),c.a.createElement(u.e,{className:"password-input",placeholder:"Contrase\xf1a",type:"password",onChange:function(e){return d(e.target.value)}}),c.a.createElement(u.a,{className:"bp3-minimal",text:"Iniciar sesi\xf3n",intent:"primary",onClick:function(){return function(e,t,n,a){e(!0),N.a.auth().signInWithEmailAndPassword(n,a).then((function(n){e(!1),t.onSignIn&&t.onSignIn(n.user)})).catch((function(t){alert(t.code),alert(t.message),e(!1)}))}(g,e,r,m)}}))}),_=function(e,t){e.onSignIn&&e.onSignIn(t)},F=Object(s.g)((function(e){return Object(a.useEffect)((function(){document.title="Hardware Store"})),e.loggedInUser&&Object.keys(e.loggedInUser).length?c.a.createElement(s.d,null,c.a.createElement(s.a,{to:"/app/home",component:function(){return c.a.createElement(G,{loggedInUser:e.loggedInUser})}})):c.a.createElement("div",{className:"card-container"},c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"".concat(e.match.path,"/signin"),component:function(){return c.a.createElement(W,{onSignIn:function(t){return _(e,t)}})}}),c.a.createElement(s.a,{to:"".concat(e.match.path,"/signin"),component:function(){return c.a.createElement(W,{onSignIn:function(t){return _(e,t)}})}})))})),R=c.a.createElement(u.g,null),$=function(e,t){localStorage.setItem("loggedUser",JSON.stringify(e)),t(e)},z=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!0),u=Object(o.a)(l,2),d=u[0],p=u[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("loggedUser");e&&(n&&Object.keys(n).length||r(JSON.parse(e))),p(!1)})),c.a.createElement("div",null,c.a.createElement(m.Provider,{value:n},c.a.createElement(a.Suspense,{fallback:R},d?R:c.a.createElement(i.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/app",component:function(){return c.a.createElement(m.Consumer,null,(function(e){return c.a.createElement(G,{loggedInUser:e,onSignOut:function(){return $(null,r)}})}))}}),c.a.createElement(s.b,{path:"/session",component:function(){return c.a.createElement(m.Consumer,null,(function(e){return c.a.createElement(F,{loggedInUser:e,onSignIn:function(e){return $(e,r)}})}))}}),c.a.createElement(s.a,{to:"/app",component:function(){return c.a.createElement(m.Consumer,null,(function(e){return c.a.createElement(G,{loggedInUser:e,onSignOut:function(){return $(null,r)}})}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},41:function(e,t,n){},58:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.5a69af07.chunk.js.map